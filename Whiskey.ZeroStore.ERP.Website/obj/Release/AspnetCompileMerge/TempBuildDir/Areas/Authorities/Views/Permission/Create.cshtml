@using Whiskey.ZeroStore.ERP.Transfers
@model PermissionDto
<div class="creat-di">
    <div class="form-group">
        <label class="control-label col-md-4">
            所属一级模块 :
        </label>
        <div class="col-md-4">
            @Html.DropDownList("FModulId", (List<SelectListItem>)ViewBag.ModuleF, new { @class = "form-control selectpicker" })

        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.ModuleId)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            所属二级模块 :
        </label>
        <div class="col-md-4">
            @Html.DropDownList("ModuleId", (List<SelectListItem>)ViewBag.ModuleT, new { @class = "form-control selectpicker" })

        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.ModuleId)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.PermissionName) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.PermissionName, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.PermissionName)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.Description) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.Description, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.Description)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.Identifier) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.Identifier, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.Identifier)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.OnlyFlag) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.OnlyFlag, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.OnlyFlag)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.AreaName) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.AreaName, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.AreaName)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.ControllName) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.ControllName, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.ControllName)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.ActionName) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.ActionName, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.ActionName)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.Icon) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.Icon, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.Icon) <a style="font-size:x-small" href="http://www.bootcss.com/p/font-awesome/#icons-web-app" target="_blank">在线查看图标</a>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.Style) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.Style, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.Style)
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-md-4">
            @Html.DisplayNameFor(m => m.onClickScripts) :
        </label>
        <div class="col-md-4">
            @Html.TextBoxFor(m => m.onClickScripts, new { @class = "form-control" })
        </div>
        <div class="control-detail col-md-3">
            @Html.ValidationMessageFor(m => m.onClickScripts)
        </div>
    </div>
</div>

<script>
    $(function () {
        $("#FModulId ").change(function () {
            var firId = $("#FModulId option:selected").val();
            $.post("/Authorities/Module/GetModules", { id: firId }, function (dat) {
                if (dat != null) {
                    var da = dat.Data;
                    var res = "";
                    for (var i = 0; i < da.length; i++) {
                        res += "<option value=" + da[i].Value + ">" + da[i].Text + "</option>";
                    }
                    $(".creat-di #ModuleId").html("").html(res);
                    $('.selectpicker').selectpicker();
                    $('.selectpicker').selectpicker('refresh');
                }
            })
        });
    })
</script>
<script>
    // selectpicker 初始化
    $(function () {
        $('.selectpicker').selectpicker();
    })
</script>